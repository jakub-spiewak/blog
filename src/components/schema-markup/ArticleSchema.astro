---
import { PostMarkdownWithSlug } from "src/util/types";

const {
    post: {
        frontmatter: { title, summary, date, modifyDate },
    },
} = Astro.props as { post: PostMarkdownWithSlug };

const schema = {
    "@context": "https://schema.org/",
    "@type": "Article",
    headline: title,
    description: summary,
    image: "https://alpha.jakubspiewak.com/assets/banner.jpg",
    author: {
        "@type": "Person",
        name: "Jakub Śpiewak",
    },
    publisher: {
        "@type": "Organization",
        name: "Jakub Śpiewak",
        logo: {
            "@type": "ImageObject",
            url: "https://alpha.jakubspiewak.com/assets/logo.png",
        },
    },
    datePublished: new Date(date).toISOString(),
    dateModified: new Date(modifyDate || date).toISOString(),
};
---

<script type="application/ld+json">
{
    "@context": "https://schema.org/",
    "@type": "Article",
    headline: title,
    description: summary,
    image: "https://alpha.jakubspiewak.com/assets/banner.jpg",
    author: {
        "@type": "Person",
        name: "Jakub Śpiewak",
    },
    publisher: {
        "@type": "Organization",
        name: "Jakub Śpiewak",
        logo: {
            "@type": "ImageObject",
            url: "https://alpha.jakubspiewak.com/assets/logo.png",
        },
    },
    datePublished: new Date(date).toISOString(),
    dateModified: new Date(modifyDate || date).toISOString(),
}
</script>

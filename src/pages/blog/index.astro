---
import BaseHTMLPage from "@components/common/BaseHTMLPage.astro";
import PostCard from "@components/post/PostCard.astro";
import readtime from "reading-time"
import { markdownFiles } from "src/util/file.util.astro";

const posts = markdownFiles
---


<BaseHTMLPage title={`Jakub Åšpiewak Blog`}>
    <main class="max-w-7xl mx-auto my-auto px-4">
        <h1 class="pt-8 font-extralight text-4xl"><span class="font-extrabold">Latest</span> articles</h1>
        <ul class="mt-4 pt-4 flex flex-col gap-8 divide-y divide-ether-surface2">
            {posts.map(({frontmatter, rawContent, slug}) => (
            <li class="py-4">
                <PostCard frontmatter={frontmatter} slug={slug} readTime={readtime(rawContent()).minutes} />
            </li>
            ))}
        </ul>
    </main>
</BaseHTMLPage>